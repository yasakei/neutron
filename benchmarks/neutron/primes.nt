// Prime number generation benchmark in Neutron

fun isPrime(n) {
    if (n < 2) {
        return false;
    }
    if (n == 2) {
        return true;
    }
    if (n % 2 == 0) {
        return false;
    }
    var i = 3;
    while (i * i <= n) {
        if (n % i == 0) {
            return false;
        }
        i = i + 2;
    }
    return true;
}

fun generatePrimes(limit) {
    var primes = [];
    var num = 2;
    while (num < limit) {
        if (isPrime(num)) {
            primes.push(num);
        }
        num = num + 1;
    }
    return primes;
}

// Generate primes up to 1000 (reduced from 5000 to avoid stack issues)
var result = generatePrimes(1000);
say("Found ${result.length()} primes");