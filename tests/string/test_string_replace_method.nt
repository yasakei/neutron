say("=== Test String Replace Method ===");

// Test basic replace
var testStr = "hello world hello";
var replaced = testStr.replace("hello", "hi");
if (replaced == "hi world hi") {
    say("✓ replace() basic replacement passed");
} else {
    say("✗ replace() basic replacement failed: '" + replaced + "'");
}

// Test replace with count parameter
var countReplaced = testStr.replace("hello", "hi", 1);
if (countReplaced == "hi world hello") {
    say("✓ replace() with count parameter passed");
} else {
    say("✗ replace() with count parameter failed: '" + countReplaced + "'");
}

// Test replace with count 0 (no replacements)
var noReplace = testStr.replace("hello", "hi", 0);
if (noReplace == "hello world hello") {
    say("✓ replace() with count 0 passed");
} else {
    say("✗ replace() with count 0 failed: '" + noReplace + "'");
}

// Test replace non-existent substring
var noMatch = testStr.replace("xyz", "abc");
if (noMatch == "hello world hello") {
    say("✓ replace() non-existent substring passed");
} else {
    say("✗ replace() non-existent substring failed: '" + noMatch + "'");
}

// Test replace with empty string (should insert between characters)
var emptyReplace = "abc".replace("", "X");
if (emptyReplace == "XaXbXcX") {
    say("✓ replace() empty string replacement passed");
} else {
    say("✗ replace() empty string replacement failed: '" + emptyReplace + "'");
}

// Test replace with empty string and count
var emptyReplaceCount = "abc".replace("", "X", 2);
if (emptyReplaceCount == "XaXbc") {
    say("✓ replace() empty string with count passed");
} else {
    say("✗ replace() empty string with count failed: '" + emptyReplaceCount + "'");
}

// Test replace overlapping patterns (should not overlap)
var overlap = "aaa".replace("aa", "b");
if (overlap == "ba") {
    say("✓ replace() overlapping patterns passed");
} else {
    say("✗ replace() overlapping patterns failed: '" + overlap + "'");
}

// Test replace with longer replacement
var longer = "cat".replace("a", "ool");
if (longer == "coolt") {
    say("✓ replace() longer replacement passed");
} else {
    say("✗ replace() longer replacement failed: '" + longer + "'");
}

// Test replace entire string
var entire = "hello".replace("hello", "world");
if (entire == "world") {
    say("✓ replace() entire string passed");
} else {
    say("✗ replace() entire string failed: '" + entire + "'");
}

say("=== String Replace Method Tests Complete ===");