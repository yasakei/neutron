say("=== Property Test: String Search Methods Consistency ===");

// Property Test 1: String Search Methods Consistency
// This validates that find/rfind and index/rindex behave consistently
// and that all search methods handle edge cases properly

var passed = 0;
var total = 0;

// Test string with multiple occurrences
var testStr = "hello world hello universe hello";

// Property 1: find() and index() should return same result when substring exists
total = total + 1;
var findResult = testStr.find("hello");
var indexResult = testStr.index("hello");
if (findResult == indexResult and findResult == 0) {
    say("✓ Property: find() and index() consistency for existing substring");
    passed = passed + 1;
} else {
    say("✗ Property: find() and index() inconsistent: find=" + findResult + ", index=" + indexResult);
}

// Property 2: rfind() and rindex() should return same result when substring exists
total = total + 1;
var rfindResult = testStr.rfind("hello");
var rindexResult = testStr.rindex("hello");
if (rfindResult == rindexResult and rfindResult == 27) {
    say("✓ Property: rfind() and rindex() consistency for existing substring");
    passed = passed + 1;
} else {
    say("✗ Property: rfind() and rindex() inconsistent: rfind=" + rfindResult + ", rindex=" + rindexResult);
}

// Property 3: find() should return -1 for non-existent substring
total = total + 1;
var findNotFound = testStr.find("xyz");
if (findNotFound == -1) {
    say("✓ Property: find() returns -1 for non-existent substring");
    passed = passed + 1;
} else {
    say("✗ Property: find() should return -1, got: " + findNotFound);
}

// Property 4: rfind() should return -1 for non-existent substring
total = total + 1;
var rfindNotFound = testStr.rfind("xyz");
if (rfindNotFound == -1) {
    say("✓ Property: rfind() returns -1 for non-existent substring");
    passed = passed + 1;
} else {
    say("✗ Property: rfind() should return -1, got: " + rfindNotFound);
}

// Property 5: find() with start parameter should work correctly
total = total + 1;
var findWithStart = testStr.find("hello", 10);
if (findWithStart == 12) {
    say("✓ Property: find() with start parameter works correctly");
    passed = passed + 1;
} else {
    say("✗ Property: find() with start parameter failed: " + findWithStart);
}

// Property 6: Empty string search should return 0 (found at beginning)
total = total + 1;
var emptySearch = testStr.find("");
if (emptySearch == 0) {
    say("✓ Property: Empty string search returns 0");
    passed = passed + 1;
} else {
    say("✗ Property: Empty string search should return 0, got: " + emptySearch);
}

// Property 7: Search in empty string should return -1 (except for empty substring)
total = total + 1;
var emptyStr = "";
var searchInEmpty = emptyStr.find("hello");
if (searchInEmpty == -1) {
    say("✓ Property: Search in empty string returns -1");
    passed = passed + 1;
} else {
    say("✗ Property: Search in empty string should return -1, got: " + searchInEmpty);
}

// Property 8: Search for empty string in empty string should return 0
total = total + 1;
var emptyInEmpty = emptyStr.find("");
if (emptyInEmpty == 0) {
    say("✓ Property: Empty string in empty string returns 0");
    passed = passed + 1;
} else {
    say("✗ Property: Empty string in empty string should return 0, got: " + emptyInEmpty);
}

// Property Test Summary
say("=== Search Methods Property Test Results ===");
say("Passed: " + passed + "/" + total);

if (passed == total) {
    say("✓ All search method property tests passed!");
} else {
    say("✗ Some search method property tests failed");
}

say("=== String Search Property Test Complete ===");