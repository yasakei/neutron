say("=== Property Test: String Modification Methods ===");

// Property Test 2: String Modification Methods
// This validates that strip/lstrip/rstrip and replace behave consistently
// and handle edge cases properly

var passed = 0;
var total = 0;

// Property 1: strip() should be equivalent to lstrip().rstrip()
total = total + 1;
var testStr = "  hello world  ";
var stripResult = testStr.strip();
var lstripRstripResult = testStr.lstrip().rstrip();
if (stripResult == lstripRstripResult and stripResult == "hello world") {
    say("✓ Property: strip() equivalent to lstrip().rstrip()");
    passed = passed + 1;
} else {
    say("✗ Property: strip() not equivalent to lstrip().rstrip(): '" + stripResult + "' vs '" + lstripRstripResult + "'");
}

// Property 2: strip() on already stripped string should be idempotent
total = total + 1;
var alreadyStripped = "hello world";
var doubleStripped = alreadyStripped.strip();
if (doubleStripped == alreadyStripped) {
    say("✓ Property: strip() is idempotent on clean strings");
    passed = passed + 1;
} else {
    say("✗ Property: strip() not idempotent: '" + doubleStripped + "' vs '" + alreadyStripped + "'");
}

// Property 3: replace() with count 0 should return original string
total = total + 1;
var originalStr = "hello world hello";
var noReplaceResult = originalStr.replace("hello", "hi", 0);
if (noReplaceResult == originalStr) {
    say("✓ Property: replace() with count 0 returns original");
    passed = passed + 1;
} else {
    say("✗ Property: replace() with count 0 changed string: '" + noReplaceResult + "'");
}

// Property 4: replace() with non-existent substring should return original
total = total + 1;
var noMatchResult = originalStr.replace("xyz", "abc");
if (noMatchResult == originalStr) {
    say("✓ Property: replace() with non-existent substring returns original");
    passed = passed + 1;
} else {
    say("✗ Property: replace() with non-existent substring changed: '" + noMatchResult + "'");
}

// Property 5: replace() should handle empty replacement correctly
total = total + 1;
var removeResult = "hello world hello".replace("hello", "");
if (removeResult == " world ") {
    say("✓ Property: replace() with empty replacement removes substring");
    passed = passed + 1;
} else {
    say("✗ Property: replace() with empty replacement failed: '" + removeResult + "'");
}

// Property 6: strip() with custom chars should work consistently
total = total + 1;
var customChars = "abchello worldcba";
var customStripped = customChars.strip("abc");
if (customStripped == "hello world") {
    say("✓ Property: strip() with custom characters works");
    passed = passed + 1;
} else {
    say("✗ Property: strip() with custom characters failed: '" + customStripped + "'");
}

// Property 7: lstrip() and rstrip() should be complementary
total = total + 1;
var asymmetric = "  hello world   ";
var leftOnly = asymmetric.lstrip();
var rightOnly = asymmetric.rstrip();
var both = asymmetric.strip();
if (leftOnly == "hello world   " and rightOnly == "  hello world" and both == "hello world") {
    say("✓ Property: lstrip() and rstrip() are complementary");
    passed = passed + 1;
} else {
    say("✗ Property: lstrip/rstrip not complementary: left='" + leftOnly + "', right='" + rightOnly + "', both='" + both + "'");
}

// Property 8: replace() count should limit replacements correctly
total = total + 1;
var multipleOccurrences = "aaaa";
var limitedReplace = multipleOccurrences.replace("a", "b", 2);
if (limitedReplace == "bbaa") {
    say("✓ Property: replace() count limits replacements correctly");
    passed = passed + 1;
} else {
    say("✗ Property: replace() count failed: '" + limitedReplace + "', expected 'bbaa'");
}

// Property Test Summary
say("=== Modification Methods Property Test Results ===");
say("Passed: " + passed + "/" + total);

if (passed == total) {
    say("✓ All modification method property tests passed!");
} else {
    say("✗ Some modification method property tests failed");
}

say("=== String Modification Property Test Complete ===");